package com.notipon;

import android.app.Service;
import android.content.SharedPreferences;
import android.os.Handler;
import android.os.IBinder;
import android.content.Intent;
import android.util.Log;

import java.util.ArrayList;

/**
 * Created by keith on 11/2/13.
 */
public class MainService extends Service  {
    public static final String TAG = "MainService";
    public static final String BROADCAST_ACTION = "com.notipon.MainService.broadcast";
    public static final String PACKAGE_NAME = "com.notipon";
    private static final String DEALS_EXTRA = "com.notipon.deals";
    private Handler handler = new Handler();
    private Intent intent;
    private static final int DELAY_MS = 5000;
    private Runnable updateRunnable;

    @Override
    public void onCreate() {
        super.onCreate();
        updateRunnable = new Runnable() {
            public void run() {
                // call the actual update function
                checkForResults();
                handler.postDelayed(this, DELAY_MS);
            }
        };
        intent = new Intent(BROADCAST_ACTION);
    }

    @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        if (updateRunnable == null) {
            handler.removeCallbacks(updateRunnable);
            handler.postDelayed(updateRunnable, DELAY_MS);
        }
        else {
            Log.e(TAG, "updateRunnable is null");
        }

        return START_STICKY;
    }

    public IBinder onBind(Intent intent) {
        return null;
    }

    private void checkForResults() {
        // get filter
        SharedPreferences settings = getSharedPreferences(PACKAGE_NAME, MODE_PRIVATE);
        Filter filter = Filter.getActiveFilter(settings);

        // run the search and filter
        ArrayList<Deal> deals = getDeals(filter);

        // call notification if match(es) found
        sendDeals(deals);
    }

    private void sendDeals(ArrayList<Deal> deals) {
        Intent intent = new Intent("whatever John says here");
        intent.putExtra(DEALS_EXTRA, deals);
        sendBroadcast(intent);
    }

    private ArrayList<Deal> getDeals() {
        ArrayList<Deal> examples = new ArrayList<Deal>();
        examples.add(new Deal("Caffe Vita", "http://www.caffevita.com/", "http://www.chefscollaborative.org/wp-content/uploads/2010/08/caffe-vita-logo-bw-650x1024.jpg", "Seattle"));
        examples.add(new Deal("Thai Curry Simple", "http://www.thaicurrysimple.com/", "data:image/jpeg;base64,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", "Seattle"));
        return examples;
    }

    private ArrayList<Deal> getDeals(Filter filter) {
        return filter.apply(getDeals());
    }
}
